<div id="appointment-form" class="site-section site-block-appointment">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 mb-5 pl-lg-5 order-1 order-lg-2">
        <div class="pl-lg-5 ml-lg-5">
          <h2 class="site-heading text-black">Online <strong>Appointment</strong> Request Form</h2>
          <p class="lead text-black">Our dentist appointment form is a convenient and efficient way to schedule your
            visit.
            Please provide your details, preferred date, and any specific requests,
            and our team will ensure a seamless and personalized experience for your dental care.</p>
        </div>
      </div>
      <div class="col-lg-6 order-2 order-lg-1" id="response-message">
        <form id="appointmentForm" class="p-5 bg-white">
          <div class="row form-group">
            <div class="col-md-6 mb-3 mb-md-0">
              <label class="font-weight-bold" for="fname">First Name*</label>
              <input type="text" id="fname" name="firstName" class="form-control" placeholder="First Name" required>
              <div class="invalid-feedback">Please enter your first name.</div>
            </div>
            <div class="col-md-6">
              <label class="font-weight-bold" for="lname">Last Name*</label>
              <input type="text" id="lname" name="lastName" class="form-control" placeholder="Last Name" required>
              <div class="invalid-feedback">Please enter your last name.</div>
            </div>
          </div>

          <div class="row form-group">
            <div class="col-md-6 mb-3 mb-md-0">
              <label class="font-weight-bold" for="gender">Gender*</label>
              <select id="gender" name="gender" class="form-control" required>
                <option value="" disabled selected>Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div class="col-md-6">
              <label class="font-weight-bold" for="age">Age*</label>
              <input type="number" id="age" name="age" class="form-control" placeholder="Age" min="1" required>
              <div class="invalid-feedback">Please enter a valid age.</div>
            </div>
          </div>

          <div class="row form-group">
            <div class="col-md-6 mb-3 mb-md-0">
              <label class="font-weight-bold" for="date">Date*</label>
              <input type="date" id="date" name="date" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label class="font-weight-bold" for="time">Time Slot*</label>
              <select id="time" name="timeSlot" class="form-control" required>
                <option value="" disabled selected>Select a time slot</option>
                <option value="10:30 AM">10:30 AM</option>
                <option value="11:15 AM">11:15 AM</option>
                <option value="12:00 PM">12:00 PM</option>
                <option value="12:45 PM">12:45 PM</option>
                <option value="01:30 PM">01:30 PM</option>
                <option value="02:15 PM">02:15 PM</option>
                <option value="03:00 PM">03:00 PM</option>
                <option value="03:45 PM">03:45 PM</option>
                <option value="04:30 PM">04:30 PM</option>
                <option value="05:15 PM">05:15 PM</option>
                <option value="06:00 PM">06:00 PM</option>
              </select>
            </div>
          </div>

          <div class="row form-group">
            <div class="col-md-6 mb-3 mb-md-0">
              <label class="font-weight-bold" for="contact">Contact Number*</label>
              <input type="tel" id="contact" name="contact" class="form-control" placeholder="Contact Number"
                pattern="[0-9]{10}" required>
              <div class="invalid-feedback">Please enter a valid 10-digit phone number.</div>
            </div>
            <div class="col-md-6">
              <label class="font-weight-bold" for="email">Email</label>
              <input type="email" id="email" name="email" class="form-control" placeholder="Email">
              <div class="invalid-feedback">Please enter a valid email address (e.g., name@example.com).</div>
            </div>
          </div>

          <div class="row form-group">
            <div class="col-md-12">
              <label class="font-weight-bold" for="treatment">Treatment Needed</label>
              <select name="treatmentNeeded" id="treatment" class="form-control">
                <option value="" disabled selected>Select a treatment</option>
                <option value="Apicectomy">Apicectomy</option>
                <option value="Bone grafting">Bone grafting</option>
                <option value="Ceramic veneer/laminates">Ceramic veneer/laminates</option>
                <option value="Cast partial denture">Cast partial denture</option>
                <option value="Consultation">Consultation</option>
                <option value="Dental filling">Dental filling</option>
                <option value="Dental implants">Dental implants</option>
                <option value="Dental implants crown">Dental implants crown</option>
                <option value="Scaling & polishing">Scaling & polishing</option>
                <option value="Teeth Whitening">Teeth Whitening</option>
                <option value="Root canal Treatment">Root canal Treatment</option>
                <option value="Surgical extraction/wisdom tooth removal">Surgical extraction/wisdom tooth removal
                </option>
              </select>
            </div>
          </div>

          <div class="row form-group">
            <div class="col-md-12">
              <label class="font-weight-bold" for="note">Notes</label>
              <textarea name="notes" id="note" cols="30" rows="5" class="form-control"
                placeholder="Write your notes or questions here..."></textarea>
            </div>
          </div>

          <div class="row form-group">
            <div class="col-md-12">
              <input type="submit" name="submit" value="Submit" class="btn btn-primary w-100">
            </div>
          </div>
        </form>

      </div>
    </div>
  </div>
</div>
<script>
  document.getElementById("appointmentForm").addEventListener("submit", function (event) {
    event.preventDefault();
    var formData = new FormData(this);

    fetch("https://script.google.com/macros/s/AKfycbz63s83MoGdX8I6luPKG7M_xWwMqsImbXOrqoR276-vUJTpbpcA5HqGcItIYu8z1AAx/exec", {
      method: "POST",
      body: new URLSearchParams(formData)
    })
      .then(response => response.text())
      .then(data => {
        alert("Appointment submitted successfully!");
        window.location.href = "/";  // Redirect to home page
      })
      .catch(error => {
        console.error("Error:", error);
        alert("Something went wrong! Please try again.");
      });
  });
</script>